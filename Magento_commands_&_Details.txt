Magento Commands And  Details
---------------------------------------------------------------------------------------------------------------------------


Magento COmmands
------------------

sudo php bin/magento se:up && sudo php bin/magento s:d:c && sudo php bin/magento se:s:d -f && sudo php bin/magento indexer:reindex && sudo php bin/magento c:f && sudo chmod -R 777 generated/ pub/ var/

sudo php bin/magento c:f && sudo php bin/magento cache:clean && sudo php bin/magento se:s:d -f
for generate sample data
-----------------------------

sudo php bin/magento setup:perf:generate-fixtures setup/performance-toolkit/profiles/ce/small.xml


----------
sudo php bin/magento se:up 
sudo php bin/magento s:d:c
sudo php bin/magento se:s:d -f
sudo php bin/magento indexer:reindex 
sudo php bin/magento c:f
sudo chmod -R 777 generated/ pub/ var/

php bin/magento indexer:reset 

sudo rm -rf var/importexport/* && sudo chmod -R 777 var/cache var/page_cache var/ var/log generated var/importexport/ && sudo chmod -R 777 pub/static pub/media

For creating admin user
------------------------------

sudo php bin/magento admin:user:create --admin-user=kunal.shakyaAp --admin-password=sst12345678 --admin-email=Demo@test.com --admin-firstname=Test --admin-lastname=Demo

Coding standard check 
------------------------
vendor/bin/phpcs --standard=Magento2 app/code/Vendor/Module
vendor/bin/phpcs --standard=Magento2 --extensions=php --report=full --no-cache -q app/code/Vendor/Module

for fix issues

vendor/bin/phpcbf --standard=Magento2 --extensions=php app/code/Vendor/Module


for XML updates only
-------------------

sudo bin/magento cache:clean layout block_html full_page


For Js updates only
----------------------
sudo php bin/magento cache:flush && sudo php bin/magento setup:static-content:deploy -f && sudo rm -rf pub/static/frontend var/view_preprocessed && sudo php bin/magento cache:flush

sudo rm -rf pub/static/frontend/* var/view_preprocessed/* && php bin/magento cache:clean


Commands to run after creating apache2 .conf files
------------------------------------------------------

sudo a2ensite core-core248.conf
sudo apache2ctl configtest
sudo systemctl reload apache2
sudo systemctl restart apache2


 When Google Chrome not working
 --------------------------------

Just remove the broken configuation by running :

rm ~/.config/google-chrome/ -rf


Mysql Services
----------------
sudo systemctl status mysql
sudo systemctl start mysql
sudo systemctl stop mysql
sudo systemctl restart mysql

For get to know the db size
--------------------------------
mysql> \! du -sh /var/lib/mysql/core_db



Apache2 Services
-------------------
sudo systemctl status apache2
sudo systemctl start apache2
sudo systemctl restart apache2
sudo systemctl stop apache2
sudo systemctl reload apache2


Elastic search
--------------------------
for check version : 
curl -X GET "localhost:9200/"

for status:
sudo systemctl status elasticsearch
sudo systemctl stop elasticsearch
sudo systemctl restart elasticsearch

checking logs:
sudo tail -f /var/log/elasticsearch/elasticsearch.log
for Upgrade:
curl -X PUT "localhost:9200/_snapshot/my_backup/snapshot_1?wait_for_completion=true"

for restore:
curl -X POST "localhost:9200/_snapshot/my_backup/snapshot_1/_restore"


Find COmmands
------------------

find /var/www/html/core/Core-core-Magento-2.4.6/ -name "crontab.xml" 2>/dev/null
find /var/www/html/core/Core-core-Magento-2.4.6/ -name "catalogsearch_result_index.xml" 2>/dev/null
find /var/www/html/core/Core-core-Magento-2.4.6/ -name "jquery.stellar.min.js" 2>/dev/null




Devloper Test Card
--------------------

Brand	    Number	            CVC	            Date

Visa	4242424242424242	Any 3 digits	Any future date


Remove all git modified files from git status
-----------------------------------------------------
git checkout -- .
git reset HEAD .
git reset --hard

git pull --no-rebase origin Development


remove untrack file and folder from git status
----------------------------------------------------
git clean -f
git clean -fd

git pull --no-rebase origin Development


Find Files by name
----------------------
find /path/to/search -type f -name "jquery.mobile.custom.js"
find app/ -type f -name "bootstrap.min.js.map"
find app/ -type f -name "moment.min.js.map"
find app/ -type f -name "jarallax.js.map"
find app/ -type f -name "player.js.map"
find app/ -type f -name "core.js"

find app/ -type f -iname '*cors*'


for pdf pwd protected
-------------------------
Install qpdf: 
sudo apt-get install qpdf
Decrypt the PDF: 
qpdf --decrypt encrypted_document.pdf


check Jquery version
----------------------

console.log(jQuery.fn.jquery);


To Clear all logs without delete them
-------------------------------------------

sudo find var/log/ -type f -exec truncate -s 0 {} \;
sudo truncate -s 0 var/log/auth0.log


Zip a folder-
---------------

zip -r backups_old_setups.zip backups


stop cron
--------------------
sudo systemctl stop cron
sudo systemctl disable cron
sudo php bin/magento cron:run --group="default"
sudo php bin/magento cron:run --group="custom_file_cron_group"



Git remove tracking
---------------------

Shows currently tracked files

git ls-files

Remove all tracked files that match .gitignore

git ls-files -c -i --exclude-from=.gitignore | xargs git rm --cached -r

Explanation:
git ls-files -c -i --exclude-from=.gitignore → lists all tracked files that are now ignored
xargs git rm --cached -r → removes them from Git tracking recursively but keeps them locally


One By One(Untrack specific files)

git rm -r --cached dev/
git rm --cached composer.json
git rm --cached composer.lock
git commit -m "Stop tracking dev/, composer.json, composer.lock"
git push origin Development


then check it is not tracking
git ls-files
and check for those files which is not tracking like (composer.json , dev/*)


Check Php Versions and Switch
------------------------------

update-alternatives --display php

for Switch
sudo update-alternatives --config php

sudo a2dismod php8.2
sudo a2enmod php8.4
sudo systemctl restart apache2


Return back to 8.2

sudo update-alternatives --config php

sudo a2dismod php8.4
sudo a2enmod php8.2
sudo systemctl restart apache2

